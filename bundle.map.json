{"version":3,"file":"bundle.js","sources":["/Users/francois/git/EventDrops/node_modules/browserify/node_modules/browser-pack/_prelude.js","/Users/francois/git/EventDrops/lib/main.js","/Users/francois/git/EventDrops/lib/eventDrops.js","/Users/francois/git/EventDrops/lib/eventLine.js","/Users/francois/git/EventDrops/lib/util/configurable.js","/Users/francois/git/EventDrops/lib/delimiter.js","/Users/francois/git/EventDrops/lib/filterData.js"],"names":["eventDrops","require","define","amd","d3","chart","window","module","exports","configurable","eventLine","delimiter","defaultConfig","start","Date","end","width","margin","top","left","bottom","right","locale","tickFormat","d","getMilliseconds","getSeconds","getMinutes","getHours","getDay","getDate","getMonth","eventHover","hasDelimiter","hasTopAxis","hasBottomAxis","data","length","eventColor","config","eventDropGraph","selection","each","updateZoom","event","sourceEvent","toString","zoom","translate","scale","redraw","redrawDelimiter","svg","select","remove","append","classed","attr","graphWidth","call","xScale","dateFormat","timeFormat","time","format","drawXAxis","where","tickFormatData","forEach","item","tick","slice","push","multi","xAxis","axis","orient","y","parseInt","graphHeight","graph","size","height","graphBody","lines","selectAll","enter","yScale","name","style","exit","behavior","center","on","this","yDomain","yRange","index","domain","range","yAxisEl","yTick","curx","cury","zoomRect","x","el","document","elementFromPoint","tagName","ordinal","key","filterData","text","count","dates","circle","targetFunction","listeners","value","arguments","hasOwnProperty","limits","filteredData","boundary","min","max","datum"],"mappings":"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","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\"use strict\";\n/* global require, define, module */\n\nvar eventDrops = require('./eventDrops');\n\nif (typeof define === \"function\" && define.amd) {\n  define('d3.chart.eventDrops', [\"d3\"], function (d3) {\n    d3.chart = d3.chart || {};\n    d3.chart.eventDrops = eventDrops(d3);\n  });\n} else if (window) {\n  window.d3.chart = window.d3.chart || {};\n  window.d3.chart.eventDrops = eventDrops(window.d3);\n} else {\n  module.exports = eventDrops;\n}\n","\"use strict\";\n/* global require, module */\n\nvar configurable = require('./util/configurable');\nvar eventLine = require('./eventLine');\nvar delimiter = require('./delimiter');\n\nmodule.exports = function (d3) {\n\n  var defaultConfig = {\n    start: new Date(0),\n    end: new Date(),\n    width: 1000,\n    margin: {\n      top: 60,\n      left: 200,\n      bottom: 40,\n      right: 50\n    },\n    locale: null,\n    tickFormat: [\n        [\".%L\", function(d) { return d.getMilliseconds(); }],\n        [\":%S\", function(d) { return d.getSeconds(); }],\n        [\"%I:%M\", function(d) { return d.getMinutes(); }],\n        [\"%I %p\", function(d) { return d.getHours(); }],\n        [\"%a %d\", function(d) { return d.getDay() && d.getDate() != 1; }],\n        [\"%b %d\", function(d) { return d.getDate() != 1; }],\n        [\"%B\", function(d) { return d.getMonth(); }],\n        [\"%Y\", function() { return true; }]\n    ],\n    eventHover: null,\n    hasDelimiter: true,\n    hasTopAxis: true,\n    hasBottomAxis: function (data) {\n      return data.length >= 10;\n    },\n    eventColor: 'black'\n  };\n\n  return function eventDrops(config) {\n    var xScale = d3.time.scale();\n    var yScale = d3.scale.ordinal();\n    config = config || {};\n    for (var key in defaultConfig) {\n      config[key] = config[key] || defaultConfig[key];\n    }\n\n    function eventDropGraph(selection) {\n      selection.each(function (data) {\n        var zoom = d3.behavior.zoom().center(null).on(\"zoom\", updateZoom);\n\n        if (config.hasDelimiter) {\n          zoom.on(\"zoomend\", redrawDelimiter);\n        }\n        var graphWidth = config.width - config.margin.right - config.margin.left;\n        var graphHeight = data.length * 40;\n        var height = graphHeight + config.margin.top + config.margin.bottom;\n\n        d3.select(this).select('svg').remove();\n\n        var svg = d3.select(this)\n          .append('svg')\n          .attr('width', config.width)\n          .attr('height', height)\n        ;\n\n        var graph = svg.append('g')\n          .attr('transform', 'translate(0, 25)');\n\n        var yDomain = [];\n        var yRange = [];\n\n        data.forEach(function (event, index) {\n          yDomain.push(event.name);\n          yRange.push(index * 40);\n        });\n\n        yScale.domain(yDomain).range(yRange);\n\n        var yAxisEl = graph.append('g')\n          .classed('y-axis', true)\n          .attr('transform', 'translate(0, 60)');\n\n        var yTick = yAxisEl.append('g').selectAll('g').data(yDomain);\n\n        yTick.enter()\n          .append('g')\n          .attr('transform', function(d) {\n            return 'translate(0, ' + yScale(d) + ')';\n          })\n          .append('line')\n          .classed('y-tick', true)\n          .attr('x1', config.margin.left)\n          .attr('x2', config.margin.left + graphWidth);\n\n        yTick.exit().remove();\n\n        var curx, cury;\n        var zoomRect = svg\n          .append('rect')\n          .call(zoom)\n          .classed('zoom', true)\n          .attr('width', graphWidth)\n          .attr('height', height )\n          .attr('transform', 'translate(' + config.margin.left + ', 35)')\n        ;\n\n        if (typeof config.eventHover === 'function') {\n          zoomRect.on('mousemove', function(d, e) {\n            var event = d3.event;\n            if (curx == event.x && cury == event.y) return;\n            curx = event.x;\n            cury = event.y;\n            zoomRect.attr('display', 'none');\n            var el = document.elementFromPoint(d3.event.x, d3.event.y);\n            zoomRect.attr('display', 'block');\n            if (el.tagName !== 'circle') return;\n            config.eventHover(el);\n          });\n        }\n\n        xScale.range([0, graphWidth]).domain([config.start, config.end]);\n\n        zoom.x(xScale);\n\n        function updateZoom() {\n          if (d3.event.sourceEvent.toString() === '[object MouseEvent]') {\n            zoom.translate([d3.event.translate[0], 0]);\n          }\n\n          if (d3.event.sourceEvent.toString() === '[object WheelEvent]') {\n            zoom.scale(d3.event.scale);\n          }\n\n          redraw();\n        }\n\n        function redrawDelimiter() {\n          svg.select('.delimiter').remove();\n          var delimiterEl = svg\n            .append('g')\n            .classed('delimiter', true)\n            .attr('width', graphWidth)\n            .attr('height', 10)\n            .attr('transform', 'translate(' + config.margin.left + ', ' + (config.margin.top - 45) + ')')\n            .call(delimiter({\n              xScale: xScale,\n              dateFormat: config.locale ? config.locale.timeFormat(\"%d %B %Y\") : d3.time.format(\"%d %B %Y\")\n            }))\n          ;\n        }\n\n        function drawXAxis(where) {\n\n          // copy config.tickFormat because d3 format.multi edit its given tickFormat data\n          var tickFormatData = [];\n\n          config.tickFormat.forEach(function (item) {\n            var tick = item.slice(0);\n            tickFormatData.push(tick);\n          });\n\n          var tickFormat = config.locale ? locale.timeFormat.multi(tickFormatData) : d3.time.format.multi(tickFormatData);\n          var xAxis = d3.svg.axis()\n            .scale(xScale)\n            .orient(where)\n            .tickFormat(tickFormat);\n          ;\n\n          var y = (where == 'bottom' ? parseInt(graphHeight) : 0) + config.margin.top - 40;\n\n          graph.select('.x-axis.' + where).remove();\n          var xAxisEl = graph\n            .append('g')\n            .classed('x-axis', true)\n            .classed(where, true)\n            .attr('transform', 'translate(' + config.margin.left + ', ' + y + ')')\n            .call(xAxis)\n          ;\n        }\n\n        function redraw() {\n\n          var hasTopAxis = typeof config.hasTopAxis === 'function' ? config.hasTopAxis(data) : config.hasTopAxis;\n          if (hasTopAxis) {\n            drawXAxis('top');\n          }\n\n          var hasBottomAxis = typeof config.hasBottomAxis === 'function' ? config.hasBottomAxis(data) : config.hasBottomAxis;\n          if (hasBottomAxis) {\n            drawXAxis('bottom');\n          }\n\n          zoom.size([config.width, height]);\n\n          graph.select('.graph-body').remove();\n          var graphBody = graph\n            .append('g')\n            .classed('graph-body', true)\n            .attr('transform', 'translate(' + config.margin.left + ', ' + (config.margin.top - 15) + ')');\n\n          var lines = graphBody.selectAll('g').data(data);\n\n          lines.enter()\n            .append('g')\n            .classed('line', true)\n            .attr('transform', function(d) {\n              return 'translate(0,' + yScale(d.name) + ')';\n            })\n            .style('fill', config.eventColor)\n            .call(eventLine({ xScale: xScale }))\n          ;\n\n          lines.exit().remove();\n        }\n\n        redraw();\n        if (config.hasDelimiter) {\n          redrawDelimiter();\n        }\n      });\n    }\n\n    configurable(eventDropGraph, config);\n\n    return eventDropGraph;\n  };\n};\n","\"use strict\";\n/* global require, module, d3 */\n\nvar configurable = require('./util/configurable');\nvar filterData = require('./filterData');\n\nvar defaultConfig = {\n  xScale: null\n};\n\nmodule.exports = function (config) {\n\n  config = config || {};\n  for (var key in defaultConfig) {\n    config[key] = config[key] || defaultConfig[key];\n  }\n\n  var eventLine = function eventLine(selection) {\n    selection.each(function (data) {\n      d3.select(this).selectAll('text').remove();\n\n      d3.select(this).append('text')\n        .text(function(d) {\n          var count = filterData(d.dates, config.xScale).length;\n          return d.name + (count > 0 ? ' (' + count + ')' : '');\n        })\n        .attr('text-anchor', 'end')\n        .attr('transform', 'translate(-20)')\n        .style('fill', 'black')\n      ;\n\n      d3.select(this).selectAll('circle').remove();\n\n      var circle = d3.select(this).selectAll('circle')\n        .data(function(d) {\n          // filter value outside of range\n          return filterData(d.dates, config.xScale);\n        });\n\n      circle.enter()\n        .append('circle')\n        .attr('cx', function(d) {\n          return config.xScale(d);\n        })\n        .attr('cy', -5)\n        .attr('r', 10)\n      ;\n\n      circle.exit().remove();\n\n    });\n  };\n\n  configurable(eventLine, config);\n\n  return eventLine;\n};\n","module.exports = function configurable(targetFunction, config, listeners) {\n  listeners = listeners || {};\n  for (var item in config) {\n    (function(item) {\n      targetFunction[item] = function(value) {\n        if (!arguments.length) return config[item];\n        config[item] = value;\n        if (listeners.hasOwnProperty(item)) {\n          listeners[item](value);\n        }\n\n        return targetFunction;\n      };\n    })(item); // for doesn't create a closure, forcing it\n  }\n};\n","\"use strict\";\n/* global require, module, d3 */\n\nvar configurable = require('./util/configurable');\n\nvar defaultConfig = {\n  xScale: null,\n  dateFormat: null\n};\n\nmodule.exports = function (config) {\n\n  config = config || {};\n  for (var key in defaultConfig) {\n    config[key] = config[key] || defaultConfig[key];\n  }\n\n  function delimiter(selection) {\n    selection.each(function (data) {\n      d3.select(this).selectAll('text').remove();\n\n      var limits = config.xScale.domain();\n\n      d3.select(this).append('text')\n        .text(function () {\n\n          return config.dateFormat(limits[0]);\n        })\n        .classed('start', true)\n      ;\n\n      d3.select(this).append('text')\n        .text(function () {\n\n          return config.dateFormat(limits[1]);\n        })\n        .attr('text-anchor', 'end')\n        .attr('transform', 'translate(' + config.xScale.range()[1] + ')')\n        .classed('end', true)\n      ;\n    });\n  }\n\n  configurable(delimiter, config);\n\n  return delimiter;\n};\n","\"use strict\";\n/* global module */\n\nmodule.exports = function filterDate(data, scale) {\n  data = data || [];\n  var filteredData = [];\n  var boundary = scale.range();\n  var min = boundary[0];\n  var max = boundary[1];\n  data.forEach(function (datum) {\n    var value = scale(datum);\n    if (value < min || value > max) {\n      return;\n    }\n    filteredData.push(datum);\n  });\n\n  return filteredData;\n};\n"]}