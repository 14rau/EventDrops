{"version":3,"file":"bundle.js","sources":["/var/www/dev/EventDrops/node_modules/browserify/node_modules/browser-pack/_prelude.js","/var/www/dev/EventDrops/lib/main.js","/var/www/dev/EventDrops/lib/eventDrops.js","/var/www/dev/EventDrops/lib/util/configurable.js","/var/www/dev/EventDrops/lib/eventLine.js","/var/www/dev/EventDrops/lib/delimiter.js","/var/www/dev/EventDrops/lib/filterData.js"],"names":["eventDrops","require","define","amd","d3","chart","window","module","exports","configurable","eventLine","defaultLocale","locale","decimal","thousands","grouping","dateTime","date","time","periods","days","shortDays","months","shortMonths","defaultConfig","start","Date","end","width","margin","top","left","bottom","right","tickFormat","timeFormat","multi","d","getMilliseconds","getSeconds","getMinutes","getHours","getDay","getDate","getMonth","delimiter","hasTopAxis","hasBottomAxis","data","length","eventColor","config","eventDropGraph","selection","each","updateZoom","event","sourceEvent","toString","zoom","translate","scale","redraw","redrawDelimiter","svg","select","remove","append","classed","attr","graphWidth","call","xScale","dateFormat","drawXAxis","where","xAxis","axis","orient","y","parseInt","graphHeight","graph","size","height","graphBody","lines","selectAll","enter","yScale","name","style","exit","behavior","center","on","this","yDomain","yRange","forEach","index","push","domain","range","yAxisEl","yTick","x","ordinal","key","targetFunction","listeners","item","value","arguments","hasOwnProperty","filterData","text","count","dates","circle","limits","filteredData","boundary","min","max","datum"],"mappings":"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","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\"use strict\";\n\nvar eventDrops = require('./eventDrops');\n\nif (typeof define === \"function\" && define.amd) {\n  define('d3.chart.eventDrops', [\"d3\"], function (d3) {\n    d3.chart = d3.chart || {};\n    d3.chart.eventDrops = eventDrops(d3);\n  });\n} else if (window) {\n  window.d3.chart = window.d3.chart || {};\n  window.d3.chart.eventDrops = eventDrops(window.d3);\n} else {\n  module.exports = eventDrops;\n}\n","\"use strict\";\n\nvar configurable = require('./util/configurable');\nvar eventLine = require('./eventLine');\n\nmodule.exports = function (d3) {\n\n  var defaultLocale = d3.locale({\n    \"decimal\": \",\",\n    \"thousands\": \" \",\n    \"grouping\": [3],\n    \"dateTime\": \"%A %e %B %Y, %X\",\n    \"date\": \"%d/%m/%Y\",\n    \"time\": \"%H:%M:%S\",\n    \"periods\": [\"AM\", \"PM\"],\n    \"days\": [\"dimanche\", \"lundi\", \"mardi\", \"mercredi\", \"jeudi\", \"vendredi\", \"samedi\"],\n    \"shortDays\": [\"dim.\", \"lun.\", \"mar.\", \"mer.\", \"jeu.\", \"ven.\", \"sam.\"],\n    \"months\": [\"janvier\", \"février\", \"mars\", \"avril\", \"mai\", \"juin\", \"juillet\", \"août\", \"septembre\", \"octobre\", \"novembre\", \"décembre\"],\n    \"shortMonths\": [\"janv.\", \"févr.\", \"mars\", \"avril\", \"mai\", \"juin\", \"juil.\", \"août\", \"sept.\", \"oct.\", \"nov.\", \"déc.\"]\n  });\n\n  var defaultConfig = {\n    start: new Date(0),\n    end: new Date(),\n    width : 1400,\n    margin: {\n      top: 60,\n      left: 280,\n      bottom: 40,\n      right: 50,\n    },\n    locale: defaultLocale,\n    tickFormat: defaultLocale.timeFormat.multi([\n      [\".%L\", function(d) { return d.getMilliseconds(); }],\n      [\":%S\", function(d) { return d.getSeconds(); }],\n      [\"%I:%M\", function(d) { return d.getMinutes(); }],\n      [\"%I %p\", function(d) { return d.getHours(); }],\n      [\"%a %d\", function(d) { return d.getDay() && d.getDate() != 1; }],\n      [\"%b %d\", function(d) { return d.getDate() != 1; }],\n      [\"%B\", function(d) { return d.getMonth(); }],\n      [\"%Y\", function() { return true; }]\n    ]),\n    delimiter: require('./delimiter'),\n    hasTopAxis: true,\n    hasBottomAxis: function (data) {\n      return data.length >= 10;\n    },\n    eventColor: 'black'\n  };\n\n  return function eventDrops(config) {\n    var xScale = d3.time.scale();\n    var yScale = d3.scale.ordinal();\n    config = config || {};\n    for (var key in defaultConfig) {\n      config[key] = config[key] || defaultConfig[key];\n    };\n\n    function eventDropGraph(selection) {\n      selection.each(function (data) {\n        var zoom = d3.behavior.zoom().center(null).on(\"zoom\", updateZoom);\n\n        if (config.delimiter) {\n          zoom.on(\"zoomend\", redrawDelimiter);\n        }\n        var graphWidth = config.width - config.margin.right - config.margin.left;\n        var graphHeight = data.length * 40;\n        var height = graphHeight + config.margin.top + config.margin.bottom;\n\n        d3.select(this).select('svg').remove();\n\n        var svg = d3.select(this)\n          .append('svg')\n          .attr('width', config.width)\n          .attr('height', height)\n        ;\n\n        var graph = svg.append('g')\n          .attr('transform', 'translate(0, 25)');\n\n        var yDomain = [];\n        var yRange = [];\n\n        data.forEach(function (event, index) {\n          yDomain.push(event.name);\n          yRange.push(index * 40);\n        });\n\n        yScale.domain(yDomain).range(yRange);\n\n        var yAxisEl = graph.append('g')\n          .classed('y-axis', true)\n          .attr('transform', 'translate(0, 60)');\n\n        var yTick = yAxisEl.append('g').selectAll('g').data(yDomain);\n\n        yTick.enter()\n          .append('g')\n          .attr('transform', function(d) {\n            return 'translate(0, ' + yScale(d) + ')';\n          })\n          .append('line')\n          .classed('y-tick', true)\n          .attr('x1', config.margin.left)\n          .attr('x2', config.margin.left + graphWidth);\n\n        yTick.exit().remove();\n\n        svg\n          .append('rect')\n          .call(zoom)\n          .classed('zoom', true)\n          .attr('width', graphWidth)\n          .attr('height', height )\n          .attr('transform', 'translate(' + config.margin.left + ', 35)')\n        ;\n\n        xScale.range([0, graphWidth]).domain([config.start, config.end]);\n\n        zoom.x(xScale);\n\n        function updateZoom() {\n          if (d3.event.sourceEvent.toString() === '[object MouseEvent]') {\n            zoom.translate([d3.event.translate[0], 0]);\n          }\n\n          if (d3.event.sourceEvent.toString() === '[object WheelEvent]') {\n            zoom.scale(d3.event.scale);\n          }\n\n          redraw();\n        }\n\n        function redrawDelimiter() {\n          svg.select('.delimiter').remove();\n          var delimiterEl = svg\n            .append('g')\n            .classed('delimiter', true)\n            .attr('width', graphWidth)\n            .attr('height', 10)\n            .attr('transform', 'translate(' + config.margin.left + ', 15)')\n            .call(config.delimiter({xScale: xScale, dateFormat: config.locale.timeFormat(\"%d %B %Y\")}))\n          ;\n        }\n\n        function drawXAxis(where) {\n          var xAxis = d3.svg.axis()\n            .tickFormat(config.tickFormat)\n            .scale(xScale)\n            .orient(where)\n          ;\n          var y = (where == 'bottom' ? parseInt(graphHeight) : 0) + 20;\n\n          graph.select('.x-axis.' + where).remove();\n          var xAxisEl = graph\n            .append('g')\n            .classed('x-axis', true)\n            .classed(where, true)\n            .attr('transform', 'translate(' + config.margin.left + ', ' + y + ')')\n            .call(xAxis)\n          ;\n        }\n\n        function redraw() {\n\n          var hasTopAxis = typeof config.hasTopAxis === 'function' ? config.hasTopAxis(data) : config.hasTopAxis;\n          if (hasTopAxis) {\n            drawXAxis('top');\n          }\n\n          var hasBottomAxis = typeof config.hasBottomAxis === 'function' ? config.hasBottomAxis(data) : config.hasBottomAxis;\n          if (hasBottomAxis) {\n            drawXAxis('bottom');\n          }\n\n          zoom.size([config.width, height]);\n\n          graph.select('.graph-body').remove();\n          var graphBody = graph\n            .append('g')\n            .classed('graph-body', true)\n            .attr('transform', 'translate(' + config.margin.left + ', ' + (config.margin.top - 15) + ')');\n\n          var lines = graphBody.selectAll('g').data(data);\n\n          lines.enter()\n            .append('g')\n            .classed('line', true)\n            .attr('transform', function(d) {\n              return 'translate(0,' + yScale(d.name) + ')';\n            })\n            .style('fill', config.eventColor)\n            .call(eventLine({xScale: xScale}))\n          ;\n\n          lines.exit().remove();\n        }\n\n        redraw();\n        if (config.delimiter) {\n          redrawDelimiter();\n        }\n      });\n    }\n\n    configurable(eventDropGraph, config);\n\n    return eventDropGraph;\n  };\n}\n","module.exports = function configurable(targetFunction, config, listeners) {\n  listeners = listeners || {};\n  for (var item in config) {\n    (function(item) {\n      targetFunction[item] = function(value) {\n        if (!arguments.length) return config[item];\n        config[item] = value;\n        if (listeners.hasOwnProperty(item)) {\n          listeners[item](value);\n        }\n\n        return targetFunction;\n      };\n    })(item); // for doesn't create a closure, forcing it\n  }\n};\n","\"use strict\";\n\nvar configurable = require('./util/configurable');\nvar filterData = require('./filterData');\n\nvar defaultConfig = {\n  xScale: null\n};\n\nmodule.exports = function (config) {\n\n  config = config || {};\n  for (var key in defaultConfig) {\n    config[key] = config[key] || defaultConfig[key];\n  };\n\n  var eventLine = function eventLine(selection) {\n    selection.each(function (data) {\n      d3.select(this).selectAll('text').remove();\n\n      d3.select(this).append('text')\n        .text(function(d) {\n          var count = filterData(d.dates, config.xScale).length;\n          return d.name + (count > 0 ? ' (' + count + ')' : '');\n        })\n        .attr('text-anchor', 'end')\n        .attr('transform', 'translate(-20)')\n        .style('fill', 'black')\n      ;\n\n      d3.select(this).selectAll('circle').remove();\n\n      var circle = d3.select(this).selectAll('circle')\n        .data(function(d) {\n          // filter value outside of range\n          return filterData(d.dates, config.xScale);\n        });\n\n      circle.enter()\n        .append('circle')\n        .attr('cx', function(d) {\n          return config.xScale(d);\n        })\n        .attr('cy', -5)\n        .attr('r', 10)\n      ;\n\n      circle.exit().remove();\n\n    });\n  };\n\n  configurable(eventLine, config);\n\n  return eventLine;\n};\n","\"use strict\";\n\nvar configurable = require('./util/configurable');\n\nvar defaultConfig = {\n  xScale: null,\n  dateFormat: null\n};\n\nmodule.exports = function (config) {\n\n  config = config || {};\n  for (var key in defaultConfig) {\n    config[key] = config[key] || defaultConfig[key];\n  };\n\n  function delimiter(selection) {\n    selection.each(function (data) {\n      d3.select(this).selectAll('text').remove();\n\n      var limits = config.xScale.domain();\n\n      d3.select(this).append('text')\n        .text(function () {\n\n          return config.dateFormat(limits[0]);\n        })\n        .classed('start', true)\n      ;\n\n      d3.select(this).append('text')\n        .text(function () {\n\n          return config.dateFormat(limits[1]);\n        })\n        .attr('text-anchor', 'end')\n        .attr('transform', 'translate(' + config.xScale.range()[1] + ')')\n        .classed('end', true)\n      ;\n    });\n  }\n\n  configurable(delimiter, config);\n\n  return delimiter;\n};\n","\"use strict\";\n\nmodule.exports = function filterDate(data, scale) {\n  data = data || [];\n  var filteredData = [];\n  var boundary = scale.range();\n  var min = boundary[0];\n  var max = boundary[1];\n  data.forEach(function (datum) {\n    var value = scale(datum);\n    if (value < min || value > max) {\n      return;\n    }\n    filteredData.push(datum);\n  });\n\n  return filteredData;\n};\n"]}